<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KFC INVEST - Secure Deposit</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { background-color: #04160e; color: white; font-family: sans-serif; }
        .kfc-card { background: linear-gradient(145deg, #062a1a, #04160e); border: 1px solid #14532d; border-radius: 20px; }
        .nav-bottom { background-color: #062a1a; border-top: 1px solid #14532d; position: fixed; bottom: 0; width: 100%; display: flex; justify-content: space-around; padding: 12px 0; z-index: 1000; }
        .nav-item { color: #4ade80; font-size: 10px; text-align: center; opacity: 0.5; cursor: pointer; }
        .nav-item.active { opacity: 1; color: #2ecc71; font-weight: bold; }
        .page { display: none; animation: fadeIn 0.4s ease-in-out; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .btn-recharge { background: #2ecc71; color: black; font-weight: bold; border-radius: 12px; }
    </style>
</head>
<body class="pb-24">

    <div id="page-recharge" class="page p-6">
        <div class="flex items-center gap-4 mb-8">
            <button onclick="switchPage('home', document.querySelector('.nav-item'))" class="text-green-500"><i class="fas fa-arrow-right"></i></button>
            <h2 class="text-xl font-bold">شحن الرصيد (Recharge)</h2>
        </div>

        <div class="kfc-card p-6 text-center">
            <p class="text-xs text-gray-400 mb-4 font-bold">عملة الإيداع: USDT (Network: TRC20)</p>
            
            <div class="bg-white p-2 w-40 h-40 mx-auto rounded-lg mb-6">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=YOUR_WALLET_ADDRESS" alt="QR Code" class="w-full">
            </div>

            <p class="text-[10px] text-green-500 mb-2">عنوان المحفظة الخاص بنا (TRC20)</p>
            
            <div class="bg-black/50 p-4 rounded-xl border border-green-900 flex items-center justify-between mb-6">
                <span id="wallet-addr" class="text-[10px] text-gray-300 break-all select-all">TAbC123...XYZ789 (ضع محفظتك هنا)</span>
                <button onclick="copyWallet()" class="text-green-500 ml-2"><i class="fas fa-copy"></i></button>
            </div>

            <div class="bg-yellow-900/20 p-4 rounded-xl border border-yellow-700/30 text-[10px] text-yellow-500 text-right leading-relaxed mb-6">
                * ملاحظة: يرجى التأكد من إرسال USDT عبر شبكة TRC20 حصراً.
                <br>* يستغرق تأكيد الإيداع من 1 إلى 5 دقائق.
            </div>

            <button onclick="window.open('https://t.me/YOUR_TELEGRAM_LINK')" class="w-full btn-recharge py-4 shadow-lg">أرسلت الأموال (تواصل مع الدعم)</button>
        </div>
    </div>

    <div id="app-content">
        <div id="page-home" class="page active p-4">
            <div class="kfc-card p-6 mb-6 text-center">
                <p class="text-[10px] uppercase text-green-400">رصيدك الحالي</p>
                <h3 class="text-4xl font-black my-2">$<span id="balance">0.00</span></h3>
                <button onclick="switchPage('recharge', null)" class="w-full mt-4 bg-green-600 py-2 rounded-xl text-xs font-bold shadow-lg">إيداع (Recharge)</button>
            </div>
            <div id="plans-container" class="space-y-4"></div>
        </div>

        <nav class="nav-bottom">
            <div class="nav-item active" onclick="switchPage('home', this)"><i class="fas fa-home text-lg block mb-1"></i>الرئيسية</div>
            <div class="nav-item" onclick="switchPage('recharge', this)"><i class="fas fa-wallet text-lg block mb-1"></i>شحن</div>
            <div class="nav-item" onclick="location.reload()"><i class="fas fa-sign-out-alt text-lg block mb-1"></i>خروج</div>
        </nav>
    </div>

    <script>
        // الكود البرمجي السابق مع إضافة وظيفة النسخ والتنقل
        function copyWallet() {
            const addr = document.getElementById('wallet-addr').innerText;
            navigator.clipboard.writeText(addr);
            alert("تم نسخ العنوان بنجاح!");
        }

        function switchPage(pageId, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
            if(el) {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                el.classList.add('active');
            }
        }
        
        // لا تنسى استدعاء renderPlans() و Supabase كما في الكود السابق
    </script>
</body>
</html>
